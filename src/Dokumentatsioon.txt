DOKUMENTATSIOON
Autor: Annabel Jakubel

Front-endi käitamine:
    Projekti käitamiseks tuleb terminali kirjutada käsu: ng serve
    Projekti front-end asub aadressil http://localhost:4200
    (Projekti back-end andmebaas asub aadressil http://localhost:8080/pets)

    Kasutaja: user
    Parool: password
___

FRONT-END

23.12.2022 (Aeg: 1h 39min)
    Alustasin front-end projekti loomist pärast Spring boot projekti töölesaamist.
    Teisel projektil puudu vaid user+password funktsionaalsus hetkel.

    1. Pärast CMD-s projekti tegemist läbi Angular CLI, installin bootstrapi ja panen vajalikud väljad paika.
    (angular.json faili)
    2. Teen app.component.html valmis Forms põhja, hiljem muudan ning lisan
    bootstrap-i klasse juurde stiliseerimiseks.
    3. Import app.module.ts faili ReactiveFormsModule
    4. Import FormControl ja FormGroup
        Error: import React from 'react'
        Vahemõtted: Import ei toimi millegipärast
        Lahendus: Lisasin tsconfig.json faili järgneva koodi:
            "allowSyntheticDefaultImports": true,
            "jsx": "react",
    5. Jätkan HTML põhja ehitamist.
        Error: NgForm ei tööta
        Lahendus: NgForm import oli .ts failist puudu
    6. Pet mudeli loomine.
    7. AppComponent-is onAddPet() funktsiooni sisustamine, et võtaks sisestatud andmed vastu.

    TODO: Tõsta kodulooma lisamine eraldi komponendi sisse, teha sellele service. 
___

24.12.2022 (Aeg: 1h 10min)
    1. Tõstan kodulooma lisamise ja muutmise eraldi komponentidesse.
    2. Osade input väljade muutmine select listideks.
    3. Pet-manager.service.ts loomine, et tekitaks listi ja väljastaks seda.
___

25.12.2022 (Aeg: 1h)
    1. Teen esialgu pet-manager.service.ts faili ja html faili loomade listi kuvamise
    niimoodi, nagu senini oskan (eventEmitter). Hiljem muudan ümber mida vaja.

    Probleem: PetManager komponent ei kuva AppComponent html-i sees.
    Lahendus: Tundub, et lihtsalt lehe laadimises mingi viga, vaatasin kõik üle ja lõpuks
    oli leht laadinud.

    Probleem: Looma lisamisel (hetkel puhtalt front-endis) ei lisa seda nimekirja.
    Vahemõtted: ... Tulen selle juurde tagasi ...

    2. Looma muutmise (pet-edit) komponentide tegemine, esialgu sellisele põhjale mida senini oskan.
    3. Edit nupu paigldamine, enam-vähem visuaalse paigutuse paika saamine igale lisatud loomale.
___

26.12.2022 (Aeg: 2h 29min)
    1. Loomade andmete ümber kujundamine tabeliks
    2. Osa koodi ümber tõstmine eraldi komponenti (pet-add), et kõik samal lehel poleks.
    3. Andmete sortimise võimaluse tekitamine (sort.ts, html tabeli muutmine)
        Error: TS1248: A class member cannot have the 'const' keyword.
        Lahendus: Sulud olid sort.directive.ts klassis puudu vajalikest kohtadest.
    4. Tabeli kujundus läbi bootstrapi
    5. Nuppude linkimine vajalikele lehtedele ("Add Pet", "Edit Pet")
    6. Eelnevaga seoses Route-ide määratlemine ja seadistamine.

    TODO: Looma lisamise ja Formsi tööle saamine.
___

27.12.2022 (Aeg: 3h 20min)
    Osa tänasest ajast kulub Forms-ide kohta õppimiseks.
    1. Form-i valmis tegemine, et saaks lisada kodulooma.
        -Form-i resettimine pärast andmete esitamise nupuvajutust.
    2. Form-ist tulnud andmete lisamine Pets tabelisse.
    3. HTTP POST requesti võimekuse loomine.
        Probleem: Code väljal ei kandu andmebaasi, kui pole number, aga front-endis näitab ära
        Lahendus: Input type muuta numbriks, css faili läbi peita nooleotsad tulbal.
        Testimine: Toimib
    4. Tabeli sidumine HTTP GET requestiga PetManagerComponent-i all.
        -Testimine: Ei kao lehe refreshimisel ära, toimib!
___

28.12.2022 (Aeg 2h 7min)
    Vahemõtted: Ridade sortimisel tuleb teha millegi pärast topeltklikk esialgu,
    et vastava tulba järgi sorteeriks andmeid. Pärast seda sama tulba nime vajutades piisab ühest klikist.

    1.Muutmise jaoks Service jm ühendused.
    2.Edit komponendi ümber tõstmine pealehele
    TODO: Populate data fields.

    Probleem: Edit Pet komponendis ei täida automaatselt andmetega ära, kuigi panin placeholderi.
    Vaatan pidevalt koodi üle komponentide vahel, et näha mis lüli puudu on hetkel, kuid ei leia. 
    Olen senini püüdnud jälgida Template-drive forms tüüpi, kuid proovin homme reactive forms, ehk saan tööle.
    Kahtlustan, et onAddPet() funktsiooni kustutamisega ja püüdlusega seda ühendada onUpdatePet() funktsiooniga
    tegin mingi vale sammu. 

29.12.2022 (Aeg: 2h 40min)
    1. Hakkasin tegema HTTP Basic authentication-it. 
    Jälgisin Baeldung-i tutoriali, mis hõlmab ka Spring Security poolt.

    Error: Failed to initialize Angular compilation - The target entry-point "@angular/http" has missing dependencies:
        - @angular/core
        - rxjs
        - @angular/platform-browser
    Error: in ./src/app/app.module.ts
    Module build failed (from ./node_modules/@ngtools/webpack/src/ivy/index.js):
    Error: Emit attempted before Angular Webpack plugin initialization.

    Lahendus: @angular/http npm installimine

    Probleem: Programm laeb ära, kuid näitab vaid "Loading..." kirja.
___


Järelkommentaarid: 

Edukas osa: Sain tööle lemmikloomade lisamise, lisatud loomade kuvamise tabelis läbi Formside ja
HTTP POST ja GET requestide, tulpade sortimise klikiga.
Ei saanud Edit Pet komponendi lõpuks tööle, ning püüdlusega HTTP Basic authentication teha, on paraku
front-end ligipääsmatu, kuna mul ei õnnestu Login leht tööle saada. 
Sellegipoolest back-end osa on töökorras ja testitud läbi postmani.

Tunnistan, et Angular on selle projekti puhul mu nõrgim külg. Kuigi püüdsin sügisel võimalikult
palju seda iseseisvalt omandada, jäid mulle veel lüngad sisse, 
mis põhjustasid mul front-endi poolseid tõrkeid. Seega oli raskem ka haarata errorite puhul
lahendusi võrreldes Spring Bootiga, kus ma juba mõistsin paremini kuidas mis toimib.
Kindlasti jätkan pärast selle projekti esitamist Angulari põhjalikku õppimist. 

____

11.01.2023

Veaparandus, HTTP requestide suunamine läbi proxy:
    1. proxy.config.json faili loomine ja target määratlemine
    2. angular.json faili proxy lisamine (serve variandi alla)
    3. index.html failis base href ära muutmine, 
        et proxy failis oleks element toimiv
    4. proxy.config muutmine .js failiks, et context kasti teha
        mitu endpointi UI poolt HTTP requesti jaoks
    5. "auth" välja lisamine proxy.config faili
    6. HTTP requestide vormi ümber tegemine vastavates .ts failides
        selle põhjal, mis tundus, et on õige. Kõige suurem ebakindlus login puhul.

PS. Püüdsin veel korra front-endi poolelt login tööle saada, et reaalselt järgi ise katsetada,
    kas UI ja API vaheline suhtlus toimib. Paraku see ebaõnnestus.

